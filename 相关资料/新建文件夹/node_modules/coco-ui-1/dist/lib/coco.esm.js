import{openBlock as e,createBlock as l,createVNode as t,computed as o,createCommentVNode as c,renderSlot as n,ref as s,onMounted as a,watchEffect as i,Fragment as r,renderList as u,toDisplayString as d,resolveDynamicComponent as v,resolveComponent as p,Teleport as f,withCtx as b,createTextVNode as k,createApp as y,h as m}from"vue";var g={props:{value:Boolean},setup:(e,l)=>({toggle:()=>{l.emit("update:value",!e.value)}})};const C=t("span",null,null,-1);g.render=function(t,o,c,n,s,a){return e(),l("button",{onClick:o[1]||(o[1]=(...e)=>n.toggle(...e)),class:["coco-switch",{"coco-checked":c.value}]},[C],2)},g.__file="src/lib/Switch.vue";var h={props:{theme:{type:String,default:"button"},size:{type:String,default:"normal"},level:{type:String,default:"normal"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup:e=>({classes:o((()=>{const{theme:l,size:t,level:o}=e;return{[`coco-theme-${l}`]:l,[`coco-size-${t}`]:t,[`coco-level-${o}`]:o}}))})};const O={key:0,class:"coco-loadingIndicator"};h.render=function(t,o,s,a,i,r){return e(),l("button",{class:["coco-button",a.classes],disabled:s.disabled},[s.loading?(e(),l("span",O)):c("v-if",!0),n(t.$slots,"default")],10,["disabled"])},h.__file="src/lib/Button.vue";const B={render:function(t,o){return e(),l("div",null,[n(t.$slots,"default")])},__file:"src/lib/Tab.vue"};var _={props:{selected:{type:String}},setup(e,l){const t=s(null),o=s(null),c=s(null);a((()=>{i((()=>{const{width:e}=t.value.getBoundingClientRect();o.value.style.width=e+"px";const{left:l}=c.value.getBoundingClientRect(),{left:n}=t.value.getBoundingClientRect(),s=n-l;o.value.style.left=s+"px"}),{flush:"post"})}));const n=l.slots.default();n.forEach((e=>{if(e.type!==B)throw new Error("Tabs 子标签必须是 Tab")}));const r=n.map((e=>e.props.title));return{selectedItem:t,indicator:o,container:c,defaults:n,titles:r,select:e=>{l.emit("update:selected",e)}}}};const w={class:"coco-tabs"},T={class:"coco-tabs-nav",ref:"container"},$={class:"coco-tabs-nav-indicator",ref:"indicator"},S={class:"coco-tabs-content"};_.render=function(o,n,s,a,i,p){return e(),l("div",w,[t("div",T,[(e(!0),l(r,null,u(a.titles,((t,o)=>(e(),l("div",{class:["coco-tabs-nav-item",{selected:t===s.selected}],ref:e=>{t===s.selected&&(a.selectedItem=e)},onClick:e=>a.select(t),key:o},d(t),11,["onClick"])))),128)),t("div",$,null,512)],512),t("div",S,[c(" component实现插槽效果 "),(e(!0),l(r,null,u(a.defaults,((t,o)=>(e(),l(v(t),{class:["coco-tabs-content-item",{selected:t.props.title===s.selected}],key:o},null,8,["class"])))),128))])])},_.__file="src/lib/Tabs.vue";var x={props:{visible:{type:Boolean,default:!1},closeOnClickOverlay:{type:Boolean,default:!0},ok:{type:Function},cancel:{type:Function}},components:{Button:h},setup(e,l){const t=()=>{l.emit("update:visible",!1)};return{close:t,onClickOverlay:()=>{e.closeOnClickOverlay&&t()},ok:()=>{e.ok&&!1!==e.ok()&&t()},cancel:()=>{e.cancel&&e.cancel(),t()}}}};const z={class:"coco-dialog-wrapper"},D={class:"coco-dialog"},E=k("OK"),I=k("Cancel");x.render=function(o,s,a,i,u,d){const v=p("Button");return a.visible?(e(),l(r,{key:0},[c(" Teleport为新标签 相当于一个传送门 将内部代码放到body下，用于提高层级 防止Dialog被遮挡"),(e(),l(f,{to:"body"},[t("div",{class:"coco-dialog-overlay",onClick:s[1]||(s[1]=(...e)=>i.onClickOverlay(...e))}),t("div",z,[t("div",D,[t("header",null,[c(" 具名插槽 "),n(o.$slots,"title"),t("span",{onClick:s[2]||(s[2]=(...e)=>i.close(...e)),class:"coco-dialog-close"})]),t("main",null,[c(" 具名插槽 "),n(o.$slots,"content")]),t("footer",null,[t(v,{onClick:i.ok,level:"main"},{default:b((()=>[E])),_:1},8,["onClick"]),t(v,{onClick:i.cancel},{default:b((()=>[I])),_:1},8,["onClick"])])])])]))],64)):c("v-if",!0)},x.__file="src/lib/Dialog.vue";const R=e=>{const{title:l,content:t,closeOnClickOverlay:o,ok:c,cancel:n}=e,s=document.createElement("div");document.body.appendChild(s);const a=()=>{i.unmount(s),s.remove()},i=y({render:()=>m(x,{visible:!0,"onUpdate:visible":e=>{!1===e&&a()},closeOnClickOverlay:o,"onUpdate:closeOnClickOverlay":e=>{e&&a()},ok:c,cancel:n},{title:l,content:t})});i.mount(s)};export{h as Button,x as Dialog,g as Switch,B as Tab,_ as Tabs,R as openDialog};
